(function(e){function t(t){for(var a,o,u=t[0],i=t[1],l=t[2],s=0,p=[];s<u.length;s++)o=u[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);b&&b(t);while(p.length)p.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},c=[];function o(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-2d0db0f7":"bbf74705"}[e]+".js"}function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var c,i=document.createElement("script");i.charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.src=o(e);var l=new Error;c=function(t){i.onerror=i.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",l.name="ChunkLoadError",l.type=a,l.request=c,n[1](l)}r[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:i})}),12e4);i.onerror=i.onload=c,document.head.appendChild(i)}return Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/chart/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var b=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"00cf":function(e,t,n){"use strict";n("500a")},"0613":function(e,t,n){"use strict";n("13d5"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0");var a=n("5502"),r=n("0e44"),c=n("3f9b"),o=c.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),a=c(t);return e[n]=a["default"],e}),{}),u=Object(a["a"])({modules:o,plugins:[Object(r["a"])({paths:["persistedState","app.lang"]})]});t["a"]=u},"0b03":function(e,t,n){},1570:function(e,t,n){},"1d7d":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("e25e"),n("ddb0"),n("96cf");var a=n("1da1"),r=n("bc3a"),c=n.n(r),o=n("0613"),u=n("3616"),i=n("3fd4"),l=c.a.create({baseURL:"".concat("https://tcgbusfs.blob.core.windows.net/blobyoubike"),withCredentials:!1,timeout:1e4});l.interceptors.request.use((function(e){o["a"].commit("app/setLoading",!0);var t=o["a"].getters,n=t["persistedState/token"];return n&&(e.headers["authorization"]="Bearer "+n),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){if(o["a"].commit("app/setLoading",!1),200===e.status&&e.data){var t=e.data;return t.code,t}return e}),(function(e){o["a"].commit("app/setLoading",!1);var t=e.response;switch(t.status){case 401:i["a"].error(u["a"].global.t("validate_error"));break;case 403:i["a"].error(u["a"].global.t("validate_error"));break;case 404:i["a"].error(u["a"].global.t("validate_error"));break;case 422:i["a"].error(u["a"].global.t("validate_error"));break;default:break}return Promise.reject(e)}));var s=l;function b(){return s({url:"/YouBikeTP.json",method:"GET"})}var p={getBike:b};t["default"]={namespaced:!0,state:{bikeList:[],areaList:[]},getters:{bikeList:function(e){return e.bikeList},areaList:function(e){return e.areaList}},mutations:{setBikeList:function(e,t){e.bikeList=t},setAreaList:function(e,t){e.areaList=t}},actions:{getBikeList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,c,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,p.getBike();case 3:a=e.sent,r=a.retVal,c=[],o=[],e.t0=regeneratorRuntime.keys(r);case 8:if((e.t1=e.t0()).done){e.next=20;break}return u=e.t1.value,e.next=12,parseInt(r[u].tot);case 12:return r[u].tot=e.sent,e.next=15,parseInt(r[u].sbi);case 15:r[u].sbi=e.sent,c.push(r[u]),o.push({ch:r[u].sarea,en:r[u].sareaen}),e.next=8;break;case 20:n("setBikeList",c),n("setAreaList",o);case 22:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}}},"24ab":function(e,t,n){},"24ed":function(e,t,n){},"2e06":function(e,t,n){},3616:function(e,t,n){"use strict";var a=n("5530"),r=n("47e2"),c=n("0613"),o=n("b40f"),u=n.n(o),i=n("a0b8"),l=n.n(i),s={en:"English",ch:"中文",greet:"你好",selectLang:"語言",ok:"確定",cancel:"取消",submit:"送出",menu:"選單",Home:"首頁",chart:"圖表",line:"折線圖",bar:"長條圖",pie:"圓餅圖",site:"租賃站點",area:"地區",addr:"地點",sbi:"可借車輛",tot:"可停空位",search:"篩選",keyword:"關鍵字",select:"請選擇",input:"請輸入關鍵字",validate_noData:"查無資料",validate_error:"錯誤產生,請聯絡客服"},b={en:"English",ch:"中文",greet:"Hi",selectLang:"Language",ok:"OK",cancel:"Cancel",submit:"Submit",menu:"Menu",Home:"Home",chart:"Chart",line:"Line",bar:"Bar",pie:"Pie",site:"Rental site",area:"Area",addr:"Address",sbi:"Can be by vehicle",tot:"Can be stopped",search:"Search",keyword:"Keyword",select:"Please select",input:"Please input keyword",validate_noData:"No Data",validate_error:"Something Error"},p={ch:Object(a["a"])(Object(a["a"])({},s),{},{el:l.a.el}),en:Object(a["a"])(Object(a["a"])({},b),{},{el:u.a.el})},d=Object(r["a"])({locale:c["a"].getters["app/lang"],messages:p});t["a"]=d},"397d":function(e,t,n){},"3f9b":function(e,t,n){var a={"./app.ts":"ac1a","./persistedState.ts":"7213","./ubike.ts":"1d7d"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id="3f9b"},"500a":function(e,t,n){},"67d6":function(e,t,n){"use strict";n("24ed")},7213:function(e,t,n){"use strict";n.r(t);n("96cf");var a=n("1da1"),r={token:"",personal:{}},c={token:function(e){return e.token},personal:function(e){return e.personal}},o={setToken:function(e,t){e.token=t},setPersonal:function(e,t){e.personal=t}},u={getToken:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,a("setToken",t);case 3:case"end":return n.stop()}}),n)})))()},getPersonal:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,a("setPersonal",t);case 3:case"end":return n.stop()}}),n)})))()},cleanPersistedState:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,n("setToken","");case 3:return t.next=5,n("setPersonal",{});case 5:case"end":return t.stop()}}),t)})))()}};t["default"]={namespaced:!0,state:r,getters:c,mutations:o,actions:u}},9641:function(e,t,n){},"983e":function(e,t,n){"use strict";n("9641")},ac1a:function(e,t,n){"use strict";n.r(t),t["default"]={namespaced:!0,state:{loading:!1,lang:"ch"},getters:{loading:function(e){return e.loading},lang:function(e){return e.lang}},mutations:{setLoading:function(e,t){e.loading=t},setLang:function(e,t){e.lang=t}},actions:{}}},b20f:function(e,t,n){},b9c1:function(e,t,n){"use strict";n("397d")},cd49:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"line",(function(){return X})),n.d(a,"pie",(function(){return ne})),n.d(a,"bar",(function(){return ce}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,a,c,o){var u=Object(r["N"])("router-view");return Object(r["E"])(),Object(r["j"])(u)}var o={name:"App"};o.render=c;var u=o,i=(n("d3b7"),Object(r["fb"])("data-v-ad08d71a"));Object(r["H"])("data-v-ad08d71a");var l={class:"MainLayout"},s={class:"view"};Object(r["F"])();var b=i((function(e,t,n,a,c,o){var u=Object(r["N"])("Loading"),i=Object(r["N"])("Header"),b=Object(r["N"])("router-view");return Object(r["E"])(),Object(r["j"])(r["b"],null,[Object(r["n"])(u),Object(r["n"])("div",l,[Object(r["n"])(i),Object(r["n"])("div",s,[Object(r["n"])(b,{key:a.fullPath})])])],64)})),p=n("6c02"),d=Object(r["fb"])("data-v-0f6f9190");Object(r["H"])("data-v-0f6f9190");var f={class:"lang"};Object(r["F"])();var v=d((function(e,t,n,a,c,o){var u=Object(r["N"])("LangSelector");return Object(r["E"])(),Object(r["j"])("div",f,[Object(r["n"])(u)])})),j=(n("96cf"),n("1da1")),O=n("5530"),g=n("5502"),h=Object(r["fb"])("data-v-7cbfb495"),m=h((function(e,t,n,a,c,o){var u=Object(r["N"])("el-option"),i=Object(r["N"])("el-select");return Object(r["E"])(),Object(r["j"])(i,{modelValue:a.lang,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.lang=e}),placeholder:e.$t("selectLang"),onChange:a.setLang},{default:h((function(){return[(Object(r["E"])(!0),Object(r["j"])(r["b"],null,Object(r["L"])(a.options,(function(t){return Object(r["E"])(),Object(r["j"])(u,{key:t,label:e.$t(t),value:t},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder","onChange"])})),w=n("3616"),y={setup:function(){var e=Object(g["c"])(),t=e.getters,n=t["app/lang"],a=Object(r["J"])(n),c=Object(r["J"])(["en","ch"]),o=function(t){a.value=t,e.commit("app/setLang",t),w["a"].global.locale=t};return{i18n:w["a"],options:c,lang:a,setLang:o}}};n("faa0");y.render=m,y.__scopeId="data-v-7cbfb495";var k=y,x={components:{LangSelector:k},computed:Object(O["a"])({},Object(g["b"])({personal:"persistedState/personal"})),setup:function(){var e=Object(r["p"])(),t=e.appContext.config.globalProperties.$bus,n=Object(g["c"])(),a=Object(p["d"])(),c=function(e){t.emit("change-sidemenu",e)},o=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch("user/logout");case 2:return e.next=4,n.dispatch("persistedState/cleanPersistedState");case 4:a.push({name:"Login"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{changeSideMenu:c,logout:o}}};n("e2ea");x.render=v,x.__scopeId="data-v-0f6f9190";var L=x,R=Object(r["fb"])("data-v-64dacace");Object(r["H"])("data-v-64dacace");var C={key:0,class:"mask","element-loading-background":"rgba(0, 0, 0, 0)"};Object(r["F"])();var _=R((function(e,t,n,a,c,o){var u=Object(r["O"])("loading");return e.loading?Object(r["cb"])((Object(r["E"])(),Object(r["j"])("div",C,null,512)),[[u,e.loading]]):Object(r["k"])("",!0)})),E={computed:Object(O["a"])({},Object(g["b"])({loading:"app/loading"}))};n("983e");E.render=_,E.__scopeId="data-v-64dacace";var D=E,P={components:{Header:L,Loading:D},setup:function(){var e=Object(p["c"])(),t=Object(r["h"])((function(){return e.fullPath}));return{fullPath:t}}};n("67d6");P.render=b,P.__scopeId="data-v-ad08d71a";var T=P,S=(n("ac1f"),n("841c"),Object(r["fb"])("data-v-c245591c"));Object(r["H"])("data-v-c245591c");var N={key:0,class:"textBtnActive"},A={class:"home"},$={class:"search"},B=Object(r["n"])("i",{class:"el-icon-search"},null,-1);Object(r["F"])();var H=S((function(e,t,n,a,c,o){var u=Object(r["N"])("Chart"),i=Object(r["N"])("el-row"),l=Object(r["N"])("el-col"),s=Object(r["N"])("el-option"),b=Object(r["N"])("el-select"),p=Object(r["N"])("el-input"),d=Object(r["N"])("Map"),f=Object(r["N"])("BikeList"),v=Object(r["N"])("ScrollTo");return Object(r["E"])(),Object(r["j"])(r["b"],null,[a.chartData.type&&a.bikeArr.length?(Object(r["E"])(),Object(r["j"])(u,{key:0,class:"chart",title:a.chartTitle,type:a.chartData.type,labels:a.chartData.labels,datasetsData:a.chartData.datasetsData},null,8,["title","type","labels","datasetsData"])):Object(r["k"])("",!0),Object(r["n"])("div",null,[Object(r["n"])(i,{type:"flex",align:"middle",justify:"center"},{default:S((function(){return[(Object(r["E"])(!0),Object(r["j"])(r["b"],null,Object(r["L"])(a.chartTypeArr,(function(t){return Object(r["E"])(),Object(r["j"])("div",{key:t},[a.chartData.type===t?(Object(r["E"])(),Object(r["j"])("span",N,Object(r["R"])(e.$t(t)),1)):(Object(r["E"])(),Object(r["j"])("span",{key:1,onClick:function(e){return a.changeType(t)},class:"textBtn"},Object(r["R"])(e.$t(t)),9,["onClick"]))])})),128))]})),_:1})]),Object(r["n"])("div",A,[Object(r["n"])("div",$,[B,Object(r["n"])("span",null,Object(r["R"])(e.$t("search")),1)]),Object(r["n"])(i,{type:"flex",align:"middle",style:{"margin-bottom":"10px"}},{default:S((function(){return[Object(r["n"])(l,{class:"text",xs:5,sm:2},{default:S((function(){return[Object(r["m"])(Object(r["R"])(e.$t("area")),1)]})),_:1}),Object(r["n"])(b,{"value-key":"ch",modelValue:a.select,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.select=e}),placeholder:e.$t("select"),onChange:a.search},{default:S((function(){return[(Object(r["E"])(!0),Object(r["j"])(r["b"],null,Object(r["L"])(a.areaArr,(function(e){return Object(r["E"])(),Object(r["j"])(s,{key:e.ch,label:"ch"===a.lang?e.ch:e.en,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder","onChange"])]})),_:1}),Object(r["n"])(i,{type:"flex",align:"middle",style:{"margin-bottom":"10px"}},{default:S((function(){return[Object(r["n"])(l,{class:"text",xs:5,sm:2},{default:S((function(){return[Object(r["m"])(Object(r["R"])(e.$t("keyword")),1)]})),_:1}),Object(r["n"])(l,{xs:19,sm:22},{default:S((function(){return[Object(r["n"])(p,{modelValue:a.input,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.input=e}),placeholder:e.$t("input"),onChange:a.search},null,8,["modelValue","placeholder","onChange"])]})),_:1})]})),_:1}),Object(r["n"])(d,{class:"map",mapData:a.mapData},null,8,["mapData"]),Object(r["n"])(f,{arr:a.bikeArr,onGetSnoChart:a.getSnoData},null,8,["arr","onGetSnoChart"])]),Object(r["n"])(v)],64)})),J=(n("4de4"),n("4160"),n("d81d"),n("a434"),n("a9e3"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("4795"),Object(r["fb"])("data-v-6051c02e"));Object(r["H"])("data-v-6051c02e");var I={class:"list"};Object(r["F"])();var M=J((function(e,t,n,a,c,o){var u=Object(r["N"])("el-table-column"),i=Object(r["N"])("el-table");return Object(r["E"])(),Object(r["j"])("div",I,[Object(r["n"])(i,{data:n.arr,style:{width:"100%"},onRowClick:a.handdleRow},{default:J((function(){return[Object(r["n"])(u,{label:e.$t("area")},{default:J((function(t){return[Object(r["m"])(Object(r["R"])("ch"===e.lang?t.row.sarea:t.row.sareaen),1)]})),_:1},8,["label"]),Object(r["n"])(u,{label:e.$t("site")},{default:J((function(t){return[Object(r["m"])(Object(r["R"])("ch"===e.lang?t.row.sna:t.row.snaen),1)]})),_:1},8,["label"]),Object(r["n"])(u,{label:e.$t("addr")},{default:J((function(t){return[Object(r["m"])(Object(r["R"])("ch"===e.lang?t.row.ar:t.row.aren),1)]})),_:1},8,["label"]),Object(r["n"])(u,{prop:"sbi",label:e.$t("sbi"),sortable:""},null,8,["label"]),Object(r["n"])(u,{prop:"tot",label:e.$t("tot"),sortable:""},null,8,["label"])]})),_:1},8,["data","onRowClick"])])})),F={name:"Bike List",computed:Object(O["a"])({},Object(g["b"])({lang:"app/lang"})),props:["arr"],setup:function(e,t){var n=t.emit,a=function(e){n("getSnoChart",{sbi:Number(e.sbi),tot:Number(e.tot),lat:Number(e.lat),lng:Number(e.lng),sna:e.sna,snaen:e.snaen})};return{handdleRow:a}}};n("f04c");F.render=M,F.__scopeId="data-v-6051c02e";var V=F,U=Object(r["fb"])("data-v-9d91c9a2");Object(r["H"])("data-v-9d91c9a2");var Z={class:"chart"},z={class:"title"},G={ref:"myChartRef"};Object(r["F"])();var q=U((function(e,t,n,a,c,o){return Object(r["E"])(),Object(r["j"])("div",Z,[Object(r["n"])("div",z,Object(r["R"])("ch"===e.lang?n.title.ch:n.title.en)+" "+Object(r["R"])(e.$t("chart")),1),Object(r["n"])("div",null,[Object(r["n"])("canvas",G,null,512)])])})),K=n("d549"),Y=["January","February","March","April","May","June"],W={labels:Y,datasets:[{label:"Line",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[0,10,5,2,20,30,45]}]},Q={type:"line",data:W,options:{}},X={data:W,config:Q},ee={labels:["pie1","pie2","pie3","pie4","pie5"],datasets:[{label:"Dataset 1",data:[10,14,5,2,20],backgroundColor:["#ee801f","#f6da77","#79BFB2","#F9A88E","#E9665D"]}]},te={type:"pie",data:ee,options:{responsive:!0,plugins:{legend:{position:"top"}}}},ne={data:ee,config:te},ae={labels:[1,2,3,4,5,6,7],datasets:[{label:"站點",data:[65,59,80,81,56,55,40],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},re={type:"bar",data:ae,options:{scales:{y:{beginAtZero:!0}}}},ce={data:ae,config:re},oe={name:"Chart",computed:Object(O["a"])({},Object(g["b"])({lang:"app/lang"})),props:{title:{type:Object},type:{type:String,default:""},labels:{type:Array,default:function(){return[]}},datasetsData:{type:Array,default:function(){return[]}}},setup:function(e,t){t.emit;var n=Object(g["c"])(),c=Object(r["p"])(),o=c.appContext.config.globalProperties.$bus,u=Object(r["J"])(null),i=Object(r["T"])(e),l=i.labels,s=i.datasetsData,b=i.type,p=function(){var e=Object.assign({},a);e[b.value].data.labels=l.value,e[b.value].data.datasets[0].data=s.value,"bar"===b.value&&(e[b.value].data.datasets[0].label=w["a"].global.t("site"));var t=e[b.value].config;return t},d=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.commit("app/setLoading",!0),t=u.value,e.next=4,new K["a"](t,p());case 4:u.value=e.sent,setTimeout((function(){n.commit("app/setLoading",!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u.value,e.next=3,t.destroy();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return e.next=4,d();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r["B"])((function(){d(),document.addEventListener("visibilitychange",(function(){"visible"==document.visibilityState&&window.location.reload()}))})),o.on("change-chartData",(function(){v()})),{myChartRef:u}}};n("f212");oe.render=q,oe.__scopeId="data-v-9d91c9a2";var ue=oe,ie={id:"map"};function le(e,t,n,a,c,o){return Object(r["E"])(),Object(r["j"])("div",ie)}n("99af");var se=n("e11e"),be=n.n(se),pe={name:"Map",props:{mapData:{type:Array,default:function(){return[]}}},setup:function(e,t){t.emit;var n=Object(g["c"])(),a=Object(r["h"])((function(){return n.state.app.lang})),c=Object(r["J"])({}),o=Object(r["T"])(e),u=o.mapData,i=function(e){u.value.length&&(e={lat:u.value[0].lat,lng:u.value[0].lng,sna:"ch"===a.value?u.value[0].sna:u.value[0].snaen,sbi:u.value[0].sbi,tot:u.value[0].tot});var t=c.value;t.flyTo(new be.a.LatLng(e.lat,e.lng),15),be.a.marker([e.lat,e.lng]).addTo(c.value).bindPopup("".concat(e.sna,'<br>\n        <span style="color: #eb9549">\n        ').concat("ch"===a.value?"可借車輛":"Can be by vehicle",":").concat(e.sbi,'\n        </span><br>\n        <span style="color: #f6da77">\n        ').concat("ch"===a.value?"可停空位":"Can be stopped",":").concat(e.tot,"\n        </span>\n        ")).openPopup()},l=function(){var e={lat:25.041956,lng:121.508791};c.value=be.a.map("map",{center:[e.lat,e.lng],zoom:18}),be.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"",maxZoom:18}).addTo(c.value)};return Object(r["Z"])(u,i,{deep:!0}),Object(r["B"])((function(){l()})),{Map:c}}};pe.render=le;var de=pe,fe=Object(r["fb"])("data-v-6f877c4b");Object(r["H"])("data-v-6f877c4b");var ve=Object(r["n"])("i",{class:"el-icon-arrow-up"},null,-1);Object(r["F"])();var je=fe((function(e,t,n,a,c,o){return a.goUp?(Object(r["E"])(),Object(r["j"])("div",{key:0,class:"scroll-btn",onClick:t[1]||(t[1]=function(){return a.scrollTo&&a.scrollTo.apply(a,arguments)})},[ve])):Object(r["k"])("",!0)})),Oe={name:"Scroll To",setup:function(){var e=Object(r["J"])(0),t=Object(r["J"])(!1),n=function(){e.value=window.scrollY},a=function(){e.value>300?t.value=!0:t.value=!1},c=function(){var n=document.body.scrollHeight-window.innerHeight;if(t.value)var a=e.value/30,r=function(){e.value>0?(e.value-=a,window.scrollTo(0,e.value)):clearInterval(c)},c=setInterval(r,10);else var o=(n-e.value)/30,u=function(){n>e.value?(e.value+=o,window.scrollTo(n,e.value)):clearInterval(i)},i=setInterval(u,10)};return Object(r["B"])((function(){window.addEventListener("scroll",n),n()})),Object(r["C"])((function(){window.removeEventListener("scroll",n)})),Object(r["Z"])(e,a),{goUp:t,scrollTo:c}}};n("00cf");Oe.render=je,Oe.__scopeId="data-v-6f877c4b";var ge=Oe,he={name:"Home",components:{BikeList:V,Chart:ue,Map:de,ScrollTo:ge},setup:function(){var e=Object(r["p"])(),t=e.appContext.config.globalProperties.$bus,n=Object(g["c"])(),a=Object(r["h"])((function(){return n.state.ubike.bikeList})),c=Object(r["h"])((function(){return n.state.ubike.areaList})),o=Object(r["h"])((function(){return n.state.app.lang})),u=Object(r["J"])(["line","bar","pie"]),i=Object(r["J"])({ch:"",en:""}),l=Object(r["J"])({type:"",labels:[],datasetsData:[]}),s=0,b=Object(r["J"])(Object.assign([],a.value)),p=Object(r["J"])([]),d=Object(r["J"])(""),f=Object(r["J"])({ch:"",en:""}),v=Object(r["J"])([]),O=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch("ubike/getBikeList");case 2:s=setInterval(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch("ubike/getBikeList");case 2:case"end":return e.stop()}}),e)}))),6e4);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Set,e.next=3,c.value.filter((function(e){return!t.has(e.ch)&&t.add(e.ch)}));case 3:p.value=e.sent,p.value.splice(0,0,{ch:"全部",en:"All"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){l.value=e,t.emit("change-chartData",l.value)},w=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=[],n=[],p.value.forEach(function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=c.value.filter((function(e){return t.ch===e.ch})),e.next=3,n.push(a.length);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.value={ch:"",en:""},t=p.value.map((function(e){return e[o.value]})),m({type:"bar",datasetsData:n,labels:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=0,t=0;b.value.forEach(function(){var n=Object(j["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e+=Number(a.sbi),t+=Number(a.tot);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),i.value=f.value,m({type:"pie",labels:"ch"===o.value?["可借車輛","可停空位"]:["Can be by vehicle","Can be stopped"],datasetsData:[e,t]})},k=function(e){i.value={ch:e.sna,en:e.snaen},m({type:"pie",labels:"ch"===o.value?["可借車輛","可停空位"]:["Can be by vehicle","Can be stopped"],datasetsData:[e.sbi,e.tot]}),v.value=[e]},x=function(e){if("ch"===o.value)return-1!==e.sna.search(d.value)||-1!==e.ar.search(d.value);var t=e.snaen.toLowerCase(),n=e.aren.toLowerCase();return-1!==t.search(d.value.toLowerCase())||-1!==n.search(d.value.toLowerCase())},L=function(){"全部"!==f.value.ch&&""!==f.value.ch?(b.value=a.value.filter((function(e){return x(e)&&e.sarea===f.value.ch})),y()):d.value?(b.value=a.value.filter((function(e){return x(e)})),y()):(b.value=a.value,w())},R=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.value.type=t,m(l.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r["B"])(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)})))),Object(r["Z"])(a,Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:L();case 3:case"end":return e.stop()}}),e)}))),{deep:!0}),Object(r["Z"])(o,L),Object(r["C"])((function(){clearInterval(s)})),{lang:o,getAllAreaData:w,chartTitle:i,chartData:l,areaArr:p,bikeArr:b,select:f,input:d,search:L,getSnoData:k,mapData:v,chartTypeArr:u,changeType:R}}};n("b9c1");he.render=H,he.__scopeId="data-v-c245591c";var me=he,we=[{path:"/",meta:{title:"Home"},component:T,children:[{path:"/",name:"Home",meta:{title:"Home"},component:me}]},{path:"/404",name:"404",meta:{title:"404"},component:function(){return n.e("chunk-2d0db0f7").then(n.bind(null,"6df9"))}},{path:"/:catchAll(.*)",redirect:{name:"404"}}],ye=Object(p["a"])({history:Object(p["b"])("chart"),routes:we}),ke=ye,xe=n("0613"),Le=n("14b7"),Re=n("2ef0"),Ce=n.n(Re),_e=n("3fd4");n("7dd6"),n("b20f"),n("24ab");ke.beforeEach((function(e,t,n){document.title=e.meta.title,n()}));var Ee=function(e){e.config.globalProperties.$baseUrl="https://tcgbusfs.blob.core.windows.net/blobyoubike",e.config.globalProperties.$bus=Object(Le["a"])(),e.config.globalProperties.$_=Ce.a,e.use(w["a"]),e.use(_e["b"],{i18n:w["a"].global.t}),e.config.productionTip=!1},De={install:Ee};Object(r["i"])(u).use(xe["a"]).use(ke).use(De,{}).mount("#app")},e2ea:function(e,t,n){"use strict";n("1570")},f04c:function(e,t,n){"use strict";n("2e06")},f212:function(e,t,n){"use strict";n("ff95")},faa0:function(e,t,n){"use strict";n("0b03")},ff95:function(e,t,n){}});
//# sourceMappingURL=app.3be3bea6.js.map